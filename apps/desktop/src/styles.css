@import "tailwindcss";
@import "./styles/tokens.css";

@source "../node_modules/streamdown/dist/*.js";

@theme inline {
  --font-sans: "SF Pro Text", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;

  --color-background: var(--app-bg);
  --color-foreground: var(--text);

  --color-sidebar: var(--sidebar-bg);
  --color-panel: var(--panel-bg);

  --color-card: color-mix(in srgb, var(--panel-bg) 88%, var(--app-bg));
  --color-card-foreground: var(--text);

  --color-popover: var(--panel-bg);
  --color-popover-foreground: var(--text);

  --color-primary: var(--accent);
  --color-primary-foreground: #ffffff;

  --color-secondary: color-mix(in srgb, var(--accent) 16%, var(--panel-bg));
  --color-secondary-foreground: var(--text);

  --color-muted: color-mix(in srgb, var(--text) 6%, transparent);
  --color-muted-foreground: var(--muted);

  --color-border: var(--border);
  --color-input: var(--border);
  --color-ring: var(--accent);

  --color-destructive: var(--danger);
  --color-destructive-foreground: #ffffff;

  --radius-sm: calc(var(--radius) - 0.25rem);
  --radius-md: var(--radius);
  --radius-lg: calc(var(--radius) + 0.125rem);
}

html,
body,
#root {
  height: 100%;
}

body {
  margin: 0;
  overflow: hidden;
  background: var(--app-bg);
  color: var(--text);
  font-family: var(--font-sans);
  -webkit-font-smoothing: antialiased;
}

* {
  box-sizing: border-box;
}

::selection {
  background: color-mix(in srgb, var(--accent) 35%, transparent);
  color: inherit;
}

:where(button, [role="button"], a, input, textarea, select, [role="separator"]):focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px var(--app-bg), 0 0 0 4px color-mix(in srgb, var(--accent) 40%, transparent);
}

::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  border-radius: 999px;
  background: color-mix(in srgb, var(--text) 16%, transparent);
}

::-webkit-scrollbar-thumb:hover {
  background: color-mix(in srgb, var(--text) 24%, transparent);
}

.app-topbar {
  -webkit-app-region: drag;
}

.app-topbar__controls {
  -webkit-app-region: no-drag;
}

:root[data-platform="darwin"] .app-topbar.app-topbar--macos-inset {
  padding-left: 5.75rem;
}

:root[data-platform="win32"] .app-topbar {
  padding-right: 9rem; /* Prevent overlap with native Windows controls */
}

.app-shell {
  position: relative;
}

:root[data-platform="darwin"] .app-window-drag-strip,
:root[data-platform="win32"] .app-window-drag-strip {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 0.625rem;
  z-index: 60;
  -webkit-app-region: drag;
}

:root[data-platform="darwin"] .settings-shell__nav,
:root[data-platform="win32"] .settings-shell__nav {
  padding-top: 2.75rem;
}

:root[data-platform="darwin"] .settings-shell__back-button,
:root[data-platform="win32"] .settings-shell__back-button {
  margin-top: 0;
}

:root[data-platform="darwin"] .settings-shell__drag-zone,
:root[data-platform="win32"] .settings-shell__drag-zone {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2.75rem;
  z-index: 80;
  -webkit-app-region: drag;
}

.app-left-sidebar-pane,
.app-right-sidebar-pane {
  will-change: width;
}

body.app-resizing-sidebars {
  cursor: col-resize;
  user-select: none;
}

body.app-resizing-sidebars .app-left-sidebar-pane,
body.app-resizing-sidebars .app-right-sidebar-pane {
  transition: none;
}

body.app-resizing-sidebars .app-left-sidebar-pane {
  backdrop-filter: none;
}
